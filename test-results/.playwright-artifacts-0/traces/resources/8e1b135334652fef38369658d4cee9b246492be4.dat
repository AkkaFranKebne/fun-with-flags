import { ApplicationError, GET_ADDRESS_FAILED } from "/src/components/ApplicationError.ts";
import { geoCodeClient } from "/src/services/GeoCodeClient.ts";
export const createGeoCodeService = (client) => ({
  getAddress: async (lat, lng) => {
    try {
      const response = await client.getAddress(lat, lng);
      return {
        name: response.data.display_name,
        location: {
          lat,
          lng
        }
      };
    } catch (error) {
      console.log(error);
      throw new ApplicationError(GET_ADDRESS_FAILED);
    }
  }
});
export const geoCodeService = createGeoCodeService(geoCodeClient);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkdlb0NvZGVTZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcGxpY2F0aW9uRXJyb3IsIEdFVF9BRERSRVNTX0ZBSUxFRCB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwcGxpY2F0aW9uRXJyb3JcIjtcbmltcG9ydCB7IE1hcFBvaW50VHlwZSB9IGZyb20gXCIuLi91dGlscy9kYXRhRm9yTWFwXCI7XG5pbXBvcnQgeyBHZW9Db2RlQ2xpZW50LCBnZW9Db2RlQ2xpZW50IH0gZnJvbSBcIi4vR2VvQ29kZUNsaWVudFwiO1xuXG50eXBlIEdlb0NvZGVTZXJ2aWNlID0ge1xuICBnZXRBZGRyZXNzOiAobGF0OiBudW1iZXIsIGxuZzogbnVtYmVyKSA9PiBQcm9taXNlPE1hcFBvaW50VHlwZT47XG59XG5cbi8vIFRoZSBkYXRhIGxheWVyIGFjdHMgYXMgYW4gaW50ZXJtZWRpYXJ5IGJldHdlZW4gdGhlIGNvbXBvbmVudHMgYW5kIHRoZSBzZXJ2aWNlIGxheWVyLiBJdHMgcHJpbWFyeSByZXNwb25zaWJpbGl0eSBpcyB0byBtYW5hZ2UgZGF0YSByZXRyaWV2YWwsIHRyYW5zZm9ybWF0aW9uLCBhbmQgY2FjaGluZy5cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUdlb0NvZGVTZXJ2aWNlID0gKGNsaWVudDogR2VvQ29kZUNsaWVudCk6IEdlb0NvZGVTZXJ2aWNlID0+ICh7XG4gIGdldEFkZHJlc3M6IGFzeW5jIChsYXQsIGxuZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNsaWVudC5nZXRBZGRyZXNzKGxhdCwgbG5nKTtcbiAgICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiByZXNwb25zZS5kYXRhLmRpc3BsYXlfbmFtZSxcbiAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICBsYXQsXG4gICAgICAgICAgbG5nLFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgICAgIHRocm93IG5ldyBBcHBsaWNhdGlvbkVycm9yKEdFVF9BRERSRVNTX0ZBSUxFRCk7XG4gICAgIH1cbiAgfSxcbn0pO1xuXG5leHBvcnQgY29uc3QgZ2VvQ29kZVNlcnZpY2UgPSBjcmVhdGVHZW9Db2RlU2VydmljZShnZW9Db2RlQ2xpZW50KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBUyxrQkFBa0IsMEJBQTBCO0FBRXJELFNBQXdCLHFCQUFxQjtBQVF0QyxhQUFNLHVCQUF1QixDQUFDLFlBQTJDO0FBQUEsRUFDOUUsWUFBWSxPQUFPLEtBQUssUUFBUTtBQUM5QixRQUFJO0FBQ0YsWUFBTSxXQUFXLE1BQU0sT0FBTyxXQUFXLEtBQUssR0FBRztBQUNoRCxhQUFPO0FBQUEsUUFDTixNQUFNLFNBQVMsS0FBSztBQUFBLFFBQ3BCLFVBQVU7QUFBQSxVQUNSO0FBQUEsVUFDQTtBQUFBLFFBQ0Y7QUFBQSxNQUNGO0FBQUEsSUFDRixTQUFTLE9BQU87QUFDWixjQUFRLElBQUksS0FBSztBQUNqQixZQUFNLElBQUksaUJBQWlCLGtCQUFrQjtBQUFBLElBQ2hEO0FBQUEsRUFDSDtBQUNGO0FBRU8sYUFBTSxpQkFBaUIscUJBQXFCLGFBQWE7IiwibmFtZXMiOltdfQ==